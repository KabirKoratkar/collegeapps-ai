<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar - CollegeApps.ai</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Outfit:wght@700;800&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages.css">

    <!-- Theme Initialization -->
    <script>
        (function () {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        })();
    </script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container navbar-container">
            <div class="navbar-logo">CollegeApps.ai</div>
            <ul class="navbar-links">
                <li><a href="dashboard.html" class="navbar-link">Dashboard</a></li>
                <li><a href="calendar.html" class="navbar-link active">Calendar</a></li>
                <li><a href="analytics.html" class="navbar-link">Analytics</a></li>

                <li><a href="colleges.html" class="navbar-link">Colleges</a></li>
                <li><a href="essays.html" class="navbar-link">Essays</a></li>
                <li><a href="documents.html" class="navbar-link">Documents</a></li>
                <li><a href="ai-counselor.html" class="navbar-link">AI Counselor</a></li>
                <li><a href="settings.html" class="navbar-link">Settings</a></li>
                <li id="user-nav-item"><span class="badge badge-primary" id="user-badge">User</span></li>
            </ul>
            <button class="mobile-menu-toggle" id="mobileToggle">â˜°</button>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container py-2xl">
        <!-- Header -->
        <div class="calendar-page-header">
            <div>
                <h1 style="font-size: var(--text-4xl); font-weight: 700; margin-bottom: var(--space-sm);">
                    Application Calendar ðŸ“…
                </h1>
                <p style="color: var(--gray-600); font-size: var(--text-lg);">
                    View all your deadlines, essays, and tasks in one place
                </p>
            </div>

            <!-- Filter Controls -->
            <div style="display: flex; gap: var(--space-md); align-items: flex-end;">
                <div class="calendar-settings" style="display: flex; flex-direction: column; gap: 4px;">
                    <span
                        style="font-size: 11px; font-weight: 700; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.05em;">Submission
                        Leeway</span>
                    <select id="leewaySetting" class="filter-select"
                        style="min-width: 150px; border-color: var(--primary-blue); font-weight: 600;">
                        <option value="0">0 Days (Risky)</option>
                        <option value="1">1 Day Buffer</option>
                        <option value="3">3 Days Buffer</option>
                        <option value="7">7 Days Buffer</option>
                    </select>
                </div>

                <div class="calendar-filters">
                    <select id="collegeFilter" class="filter-select">
                        <option value="all">All Colleges</option>
                    </select>
                    <select id="typeFilter" class="filter-select">
                        <option value="all">All Events</option>
                        <option value="deadline">Deadlines</option>
                        <option value="essay">Essays</option>
                        <option value="task">Tasks</option>
                    </select>
                    <button id="addEventBtn" class="btn btn-primary"
                        style="height: 48px; width: 48px; padding: 0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">+</button>
                </div>
            </div>
        </div>

        <!-- Calendar Card -->
        <div class="card" style="padding: 0; overflow: hidden;">
            <!-- Calendar Header -->
            <div class="calendar-header">
                <button id="prevMonth" class="calendar-nav-btn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>

                <h2 id="currentMonth" class="calendar-month-title">January 2026</h2>

                <button id="nextMonth" class="calendar-nav-btn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>
            </div>

            <!-- Calendar Grid -->
            <div class="calendar-container">
                <!-- Day Headers -->
                <div class="calendar-day-headers">
                    <div class="calendar-day-header">Sun</div>
                    <div class="calendar-day-header">Mon</div>
                    <div class="calendar-day-header">Tue</div>
                    <div class="calendar-day-header">Wed</div>
                    <div class="calendar-day-header">Thu</div>
                    <div class="calendar-day-header">Fri</div>
                    <div class="calendar-day-header">Sat</div>
                </div>

                <!-- Calendar Days Grid -->
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Days will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Legend -->
        <div class="calendar-legend">
            <div class="legend-item">
                <span class="legend-dot" style="background: var(--error);"></span>
                <span>College Deadlines</span>
            </div>
            <div class="legend-item">
                <span class="legend-dot" style="background: var(--primary-blue);"></span>
                <span>Essay Due Dates</span>
            </div>
            <div class="legend-item">
                <span class="legend-dot" style="background: var(--primary-purple);"></span>
                <span>Tasks</span>
            </div>
        </div>
    </div>

    <!-- Event Details Modal -->
    <div id="eventModal" class="modal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Event Details</h3>
                <button id="closeModal" class="modal-close">Ã—</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Event details will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div id="addTaskModal" class="modal">
        <div class="modal-overlay" id="addModalOverlay"></div>
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3>âž• Add Custom Task</h3>
                <button id="closeAddModal" class="modal-close">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="addTaskForm">
                    <div class="input-group">
                        <label class="input-label">Task Title</label>
                        <input type="text" id="taskTitle" class="input" placeholder="e.g. Request Transcript" required>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Due Date</label>
                        <input type="date" id="taskDueDate" class="input" required>
                    </div>
                    <div class="grid grid-2 gap-md">
                        <div class="input-group">
                            <label class="input-label">Category</label>
                            <select id="taskCategory" class="input">
                                <option value="General">General</option>
                                <option value="Essay">Essay</option>
                                <option value="Document">Document</option>
                                <option value="LOR">LOR</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="input-label">Priority</label>
                            <select id="taskPriority" class="input">
                                <option value="Low">Low</option>
                                <option value="Medium" selected>Medium</option>
                                <option value="High">High</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Associated College (Optional)</label>
                        <select id="taskCollege" class="input">
                            <option value="">None / General</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Description</label>
                        <textarea id="taskDescription" class="input" style="height: 100px; resize: none;"
                            placeholder="Details about this task..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary w-full"
                        style="height: 48px; margin-top: var(--space-md);">Save to My Schedule</button>
                </form>
            </div>
        </div>
    </div>

    <footer class="footer"
        style="padding: var(--space-xl) 0; margin-top: var(--space-2xl); border-top: 1px solid var(--gray-200);">
        <div class="container text-center">
            <p style="color: var(--gray-500); font-size: var(--text-sm);">&copy; 2026 CollegeApps.ai. All rights
                reserved.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script type="module" src="js/calendar.js"></script>
</body>

</html>